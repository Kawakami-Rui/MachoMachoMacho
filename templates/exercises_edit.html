{% extends 'base.html' %}

{% block title %}筋トレ種目一覧{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/exercises_edit.css') }}">
{% endblock %}

{% block content %}
<h2 class="page-title">
    <span>筋トレ種目一覧</span>
    <span><button id="edit-mode-toggle">編集</button></span>
</h2>

<div class="exercise-header">
    <div class="col part">主な筋肉部位</div>
    <div class="col name">種目名</div>
    <div class="col detail">詳細な筋肉部位</div>
    <div class="col operation" id="operation-header" style="display: none;"></div>
</div>

{% for category, exercises in grouped_exercises.items() %}
    <div class="main-group-section">
        <div class="group-title">{{ category }}</div>
        <div class="exercise-list">
            {% if exercises %}
                {% for exercise in exercises %}
                    <div class="exercise-row" data-id="{{ exercise.id }}">
                        <div class="col part"></div>
                        <div class="col name">{{ exercise.name }}</div>
                        <div class="col detail">{{ exercise.detail }}</div>
                        <div class="col operation operation-cell" style="display: none;">
                            <button class="move-up">↑</button>
                            <button class="move-down">↓</button>
                            <button class="delete">削除</button>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-entry">
                    <div class="col part"></div>
                    <div class="col name">（登録なし）</div>
                    <div class="col detail"></div>
                    <div class="col operation"></div>
                </div>
            {% endif %}
            <div class="add-button" style="display: none;">
                <button class="add-exercise-button" data-category="{{ category }}">＋追加</button>
            </div>
        </div>
    </div>
{% endfor %}

<p><a href="{{ url_for('index') }}">← トップメニューへ戻る</a></p>

<script src="{{ url_for('static', filename='js/exercises_edit.js') }}"></script>
{% endblock %}