{% extends 'base.html' %}

{% block title %}トップページ{% endblock %}

{% block content %}

<!-- 名言表示用 -->
<div id="output" class="famousquotes"></div>

<!--ここでcalendar.htmlを呼び出す-->
{% include "calendar.html" %}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>カテゴリ別 積み上げグラフ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/chart.js') }}"></script>

</head>
<body>
    <h2>直近一週間の合計重量</h2>
    <canvas id="stackedChart" width="600" height="300"></canvas>

    <!-- JSONデータをscriptタグに埋め込む -->
    <script id="chart-data" type="application/json">
        {
            "labels": {{ labels | tojson | safe }},
            "datasets": {{ datasets | tojson | safe }},
            "category_map": {{ category_map | tojson | safe }}
        }
    </script>
</body>
</html>

<!-- 筋肉人形を呼び出す -->
{% include "muscle_map.html" %}
<p>部位をクリックするとその部位に応じた種目が表示されます。</p>

<div class="top-page-links">
  <p><a href="{{ url_for('exercise_settings') }}">→ 種目一覧へ</a></p>
  <p><a href="{{ url_for('weekly_data') }}">→ 一週間の一覧へ</a></p>
  {% if session['user_id'] %}
    <p><a href="{{ url_for('user_info', user_id=session['user_id']) }}">→ ユーザー情報</a></p>
  {% endif %}
</div>

<style>
.top-page-links {
    margin: 1.5em auto;
    padding: 1em;
    background-color: #f9f9f9;
    border: 1px solid #ccc;
    border-radius: 8px;
    max-width: 800px;
    display: flex;
    justify-content: center;
    gap: 2em;
    flex-wrap: wrap;
}

.top-page-links p {
    margin: 0;
}

.top-page-links a {
    text-decoration: none;
    font-weight: bold;
    color: #2c3e50;
    transition: color 0.2s ease;
}

.top-page-links a:hover {
    color: #007bff;
}
</style>


<!-- 編集用のJavaScriptファイルを読み込み -->
<script src="{{ url_for('static', filename='js/muscle_quotes.js') }}"></script>

{% endblock %}