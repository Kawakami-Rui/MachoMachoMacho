{% extends 'base.html' %}

{% block title %}ホーム{% endblock %}

{% block content %}
<h2>トップページへようこそ！</h2>
<!--ここでcalendar.htmlを呼び出す-->
{% include "calendar.html" %}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>カテゴリ別 積み上げグラフ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/chart.js') }}"></script>
</head>
<body>
    <h2>直近一週間の合計重量</h2>
    <canvas id="stackedChart" width="600" height="300"></canvas>

    <!-- JSONデータをscriptタグに埋め込む -->
    <script id="chart-data" type="application/json">
        {
            "labels": {{ labels | tojson | safe }},
            "datasets": {{ datasets | tojson | safe }}
        }
    </script>
</body>
</html>

<p><a href="{{ url_for('exercise_settings') }}">→ 種目一覧へ</a></p>
<p><a href="{{ url_for('exercise_logs') }}">→ 種目別記録一覧を見る</a></p>
<h2>種目別記録ページ（個別リンク）</h2>

<h2>部位別の記録ページ</h2>
<ul>
  {% for category in grouped_exercises.keys() %}
    <li>
      <a href="{{ url_for('show_category_exercises', category_name=category) }}">
        ▶ {{ category }} の記録を見る
      </a>
    </li>
  {% endfor %}
</ul>

{% endblock %}