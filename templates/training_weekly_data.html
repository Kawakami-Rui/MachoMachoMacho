{% extends "base.html" %}

{% block title %}週別グラフ表示{% endblock %}

{% block head %}
{{ super() }}
<!-- 週別グラフ表示用のCSSファイルを読み込み -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/chart.css') }}">
{% endblock %}

{% block content %}
<h2>{{ week_range }} のグラフ</h2>
<p>
  <a href="{{ prev_url }}">前の週</a>
  {% if next_url %}
    <a href="{{ next_url }}">次の週</a>
  {% else %}
    <span style="color: gray;">次の週</span>
  {% endif %}
</p>

<canvas id="stackedChart" width="600" height="300"></canvas>

<script id="chart-data" type="application/json">
  {
    "labels": {{ labels | tojson | safe }},
    "datasets": {{ datasets | tojson | safe }},
    "category_map": {{ category_map | tojson | safe }},
    "reverse_legend": true
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/stacked_chart.js') }}"></script>


<!-- トップページへのリンク -->
<p><a href="{{ url_for('index') }}">← トップメニューへ戻る</a></p>

{% endblock %}